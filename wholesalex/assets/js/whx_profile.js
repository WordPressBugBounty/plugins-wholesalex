(()=>{"use strict";var e={5338(e,t,n){var a=n(5795);t.createRoot=a.createRoot,a.hydrateRoot},5795(e){e.exports=window.ReactDOM}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=window.React;var l=n.n(a),r=n(5338);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=window.wp.i18n,u=window.wp.components,d=e=>{let{name:t,value:n,label:l,options:r,placeholder:o,onMultiSelectChangeHandler:i,isDisable:c,isAjax:s,ajaxAction:d,ajaxSearch:p,dependsValue:m}=e;const _=(0,a.useRef)(null),v=Boolean(s&&d),f=Array.isArray(n)?n:[],y=Array.isArray(r)?r:[],x=e=>{const t=document.createElement("textarea");return t.innerHTML=null!=e?e:"",t.value},[h,g]=(0,a.useState)(f),[w,b]=(0,a.useState)(y);(0,a.useEffect)(()=>{g(Array.isArray(n)?n:[])},[n]),(0,a.useEffect)(()=>{b(Array.isArray(r)?r:[])},[r]);const[E,R]=(0,a.useState)(f),[O,S]=(0,a.useState)([]),[j,k]=(0,a.useState)(""),[C,B]=(0,a.useState)(!1),[P,D]=(0,a.useState)(""),[A,F]=(0,a.useState)(y);(0,a.useEffect)(()=>{R(Array.isArray(n)?n:[])},[n]),(0,a.useEffect)(()=>{F(Array.isArray(r)?r:[])},[r]);const T=()=>{let e=[];E.length>0&&(e=E.map(e=>e.value));const t=A.filter(t=>{const{name:n,value:a}=t;return(n||"").toLowerCase().includes(j.toLowerCase())&&-1===e.indexOf(a)});S(t)};(0,a.useEffect)(()=>{if(!v)return;_.current=new AbortController;const{signal:e}=_.current;p||(async e=>{B(!0);const t={type:"get",action:"dynamic_rule_action",nonce:wholesalex.nonce,ajax_action:d};m&&(t.depends=m);try{const a=await wp.apiFetch({path:"/wholesalex/v1/dynamic_rule_action",method:"POST",data:t,signal:e});if(a.status){var n;let e=[];E.length>0&&(e=E.map(e=>e.value));const t=null==a||null===(n=a.data)||void 0===n?void 0:n.filter(t=>{const{value:n}=t;return-1===e.indexOf(n)});t.sort((e,t)=>e.name.length-t.name.length),F(a.data),S(t)}}catch(e){}finally{B(!1)}})(e)},[]),(0,a.useEffect)(()=>{if(v&&p){_.current=new AbortController;const{signal:e}=_.current;return j.length>=2&&(async e=>{B(!0);const t={type:"get",action:"dynamic_rule_action",nonce:wholesalex.nonce,query:j,ajax_action:d};try{const a=await wp.apiFetch({path:"/wholesalex/v1/dynamic_rule_action",method:"POST",data:t,signal:e});if(a.status){var n;let e=[];E.length>0&&(e=E.map(e=>e.value));const t=null==a||null===(n=a.data)||void 0===n?void 0:n.filter(t=>{const{value:n}=t;return-1===e.indexOf(n)});t.sort((e,t)=>e.name.length-t.name.length),F(e=>{const t=new Set(e.map(e=>e.value)),n=a.data.filter(e=>!t.has(e.value));return[...e,...n]}),S(t)}}catch(e){}finally{B(!1)}})(e),()=>{_.current&&_.current.abort("Duplicate")}}},[j]),(0,a.useEffect)(()=>{if(v)if(p){if(P.length>1){const e=setTimeout(()=>k(P),500);return()=>clearTimeout(e)}}else k(P),T()},[P]),(0,a.useEffect)(()=>{v&&!p&&T()},[A]);const H=v,V=H?E:h,M=H?O:w,N=H?o||t:l||o||t;let L=o;return!H&&h.length>0&&(L=""),React.createElement(u.FormTokenField,{__nextHasNoMarginBottom:!0,__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__next40pxDefaultSize:!0,__experimentalShowHowTo:!1,disabled:Boolean(c),id:H?void 0:t,value:V.map(e=>x(null==e?void 0:e.name)),suggestions:M.map(e=>x(null==e?void 0:e.name)),placeholder:L,label:null!=l?l:"","aria-label":N,isLoading:H?C:void 0,onChange:H?e=>{const n=(Array.isArray(e)?e:[]).map(e=>{const t=(e=>{const t=(null!=e?e:"").toString().toLowerCase();return A.find(e=>x((null==e?void 0:e.name)||(null==e?void 0:e.userName)||"").toString().toLowerCase()===t)||O.find(e=>x((null==e?void 0:e.name)||(null==e?void 0:e.userName)||"").toString().toLowerCase()===t)})(e);if(t)return t;return E.find(t=>(null==t?void 0:t.value)&&t.value.toString()===e.toString())||{name:e,value:e,permalink:""}});R(n),null==i||i(t,n);const a=n.map(e=>e.value),l=(A.length>0?A:O).filter(e=>-1===a.indexOf(e.value));S(l)}:e=>{const n=(e||[]).map(e=>y.find(t=>{var n;return x(null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"")===e||(null==t?void 0:t.name)===e})||{name:e,value:e});g(n),null==i||i(t,n)},onInputChange:H?e=>{D(e)}:void 0,className:"wsx-multiselect-component"})},p=window.wp.primitives,m=window.ReactJSXRuntime;var _=(0,m.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),v=(0,m.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(p.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});const f=window.wp.compose;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=e=>{var t;let{fields:n,tier:l,setTier:r,tierName:i,index:c,setPopupStatus:p,src:m,isProfile:y=!1,isSmallGap:h=!1,style:g}=e;const w=Object.keys(n).length,b=null===(t=wholesalex)||void 0===t?void 0:t.is_rtl_support,E=(0,f.useViewportMatch)("wide","<"),R=(e,t,n)=>{const a=l[i]&&l[i].tiers&&l[i].tiers[c]&&l[i].tiers[c][n]?l[i].tiers[c][n]:t.default;return React.createElement(u.BaseControl,{__nextHasNoMarginBottom:!0,key:e},(E||0===c)&&t.label&&React.createElement(u.BaseControl.VisualLabel,null,t.label),React.createElement(u.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,name:"".concat(n,"_").concat(c),value:a,onChange:e=>{if(null!=e&&e.startsWith("pro_")&&p)p(!0);else{const t=l[i]?x({},l[i]):{tiers:[]},a=t.tiers?[...t.tiers]:[],o=a[c]?x({},a[c]):{};o[n]=e,a[c]=o,t.tiers=a,r(x(x({},l),{},{[i]:t}))}},options:(o=t.options,Object.keys(o).map(e=>({value:e,label:o[e]})))}));var o},O=e=>{if(!e)return!0;const t=l[i]&&l[i].tiers&&l[i].tiers[c]?l[i].tiers[c]:{};let n=!0;return e.forEach(e=>{t[e.key]!==e.value&&(n=!1)}),n},S=(e,t,n)=>{const a=l[i]&&l[i].tiers&&l[i].tiers[c]&&l[i].tiers[c][n]?l[i].tiers[c][n]:t.default;return React.createElement(d,{key:e,name:n,value:a,options:t.options,placeholder:t.placeholder,label:E||0===c?t.label:"",onMultiSelectChangeHandler:(e,t)=>{const n=l[i]?x({},l[i]):{tiers:[]},a=n.tiers?[...n.tiers]:[],o=a[c]?x({},a[c]):{};o[e]=[...t],a[c]=o,n.tiers=a,r(x(x({},l),{},{[i]:n}))},isAjax:null==t?void 0:t.is_ajax,ajaxAction:null==t?void 0:t.ajax_action,ajaxSearch:null==t?void 0:t.ajax_search})},j=E?"1fr":y?"1.5fr repeat(2, minmax(144px, 0.8fr)) 2.5fr 42px":"repeat(".concat(w,", 1fr) 42px");return React.createElement(a.Fragment,{key:"wsx-tier-fields-".concat(i,"-").concat(c)},React.createElement(u.__experimentalGrid,{align:"end",style:x({},g),gap:h?3:6,templateColumns:j},Object.keys(n).map((e,t)=>{switch(n[e].type){case"text":case"number":return((e,t,n)=>{var a;const s=l[i]&&l[i].tiers&&l[i].tiers[c]&&l[i].tiers[c][n]?l[i].tiers[c][n]:t.default,d={__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,id:"".concat(n,"_").concat(c),value:null!=s?s:"",placeholder:t.placeholder,onChange:e=>{let a="number"===t.type?(e=>{const t="".concat(null!=e?e:"").replace(/[^\d.]/g,"");if(""===t)return"";const[n,...a]=t.split("."),l=""===n?"0":n,r=a.length>0?"".concat(l,".").concat(a.join("")):l;return""===r?"":Number(r)})(e):e;"number"===t.type&&""!==a&&a<0&&(a=1);const o=l[i]?x({},l[i]):{tiers:[]},s=o.tiers?[...o.tiers]:[],u=s[c]?x({},s[c]):{};u[n]=a,s[c]=u,o.tiers=s,r(x(x({},l),{},{[i]:o}))}},p="number"===t.type?u.__experimentalNumberControl:u.TextControl,m=null==t||null===(a=t.label)||void 0===a?void 0:a.toLowerCase().includes("quantity");return React.createElement(u.BaseControl,{__nextHasNoMarginBottom:!0,key:e},(E||0===c)&&t.label&&React.createElement(u.BaseControl.VisualLabel,null,t.label),React.createElement(p,o({},d,"number"===t.type&&{spinControls:"custom",min:"0",step:m?"1":"any"})))})("tier_field_".concat(t),n[e],e);case"select":return R("tier_field_".concat(t),n[e],e);case"multiselect":return O(n[e].depends_on)&&S("tier_field_".concat(t),n[e],e);case"filter":return React.createElement(u.Flex,{align:"end",key:"tier_field_".concat(t)},n[e]&&Object.keys(n[e]).map((t,a)=>{var r,o,s,d;const p=n[e][t],m="tier_field_".concat(a),_=null!==(r=null===(o=l[i])||void 0===o||null===(o=o.tiers)||void 0===o||null===(o=o[c])||void 0===o?void 0:o[t])&&void 0!==r?r:p.default,v=null==_||null===(s=_.endsWith)||void 0===s?void 0:s.call(_,"_in_list"),f={select:()=>R(m,p,t),multiselect:()=>O(p.depends_on)?S(m,p,t):null},y=null===(d=f[p.type])||void 0===d?void 0:d.call(f);return y?React.createElement(u.FlexItem,{key:m,isBlock:"select"!==p.type||!v},y):null}).filter(Boolean));default:return null}}),React.createElement(u.__experimentalView,{style:{marginRight:E&&(b?"auto":void 0),marginLeft:E&&(b?void 0:"auto")}},React.createElement(u.Button,{key:"wsx-tier-field-delete-".concat(i,"_").concat(c),onClick:()=>{const e=x({},l);let t=[...e[i].tiers];if(1===t.length)return e[i].tiers[0]._conditions_for="",e[i].tiers[0]._conditions_operator="",e[i].tiers[0]._conditions_value="",e[i].tiers[0]._discount_type="",e[i].tiers[0]._min_quantity="",e[i].tiers[0]._discount_name="",e[i].tiers[0]._discount_amount="",e[i].tiers[0]._product_filter="",e[i].tiers=t,void r(e);t=t.filter((e,t)=>c!==t),e[i].tiers=t,r(e)},icon:_,variant:"secondary",label:(0,s.__)("Delete","wholesalex"),isDestructive:!0,style:{width:40,height:40}}))),c===(l&&l[i]&&l[i].tiers&&0!==l[i].tiers.length?l[i].tiers.length-1:0)&&("quantity_based"===i||"conditions"===i)&&React.createElement(u.__experimentalView,{style:{padding:2,marginTop:"12px"}},React.createElement(u.Button,{icon:v,variant:"primary",onClick:()=>{const e=x({},l);e[i]||(e[i]={tiers:[]});const t=[...e[i].tiers];t.push({_id:Date.now().toString(),src:m||"dynamic_rule"}),e[i].tiers=t,r(e)}},(0,s.__)("Add New Condition","wholesalex"))))};var g=(0,m.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(p.Path,{d:"M3.445 16.505a.75.75 0 001.06.05l5.005-4.55 4.024 3.521 4.716-4.715V14h1.5V8.25H14v1.5h3.19l-3.724 3.723L9.49 9.995l-5.995 5.45a.75.75 0 00-.05 1.06z"})});const w=e=>{let{UpgradeUrl:t="",addonCount:n="",title:a=(0,s.__)("Unlock","wholesalex"),onClose:l}=e;var r;return""===t&&(t=null===(r=wholesalex)||void 0===r?void 0:r.pro_link),React.createElement(u.Modal,{className:"wsx-upgrade-modal",onRequestClose:l},React.createElement(u.__experimentalVStack,{align:"center",spacing:5},React.createElement("img",{style:{maxWidth:"166px",maxHeight:"166px"},src:wholesalex.url+"/assets/img/unlock.svg",alt:"Unlock Icon"}),React.createElement(u.__experimentalVStack,{align:"center",spacing:1},React.createElement(u.__experimentalHStack,{justify:"center"},React.createElement(u.__experimentalText,{size:"18",weight:"500"},a),n&&React.createElement(u.__experimentalText,{size:"18",weight:"500"},n,"+"," ",(0,s.__)("Addons with","wholesalex"))),React.createElement(u.__experimentalHStack,{justify:"center"},React.createElement(u.__experimentalText,{size:"18",weight:"500"},(0,s.__)("WholesaleX","wholesalex")),React.createElement(u.__experimentalText,{size:"18",weight:"600",color:"#0C54FC"},(0,s.__)("Pro","wholesalex")))),React.createElement(u.Button,{href:"https://getwholesalex.com/pricing/?utm_source=wholesalex-menu&utm_medium=email-unlock_addon-upgrade_to_pro&utm_campaign=wholesalex-DB",variant:"primary",icon:g,style:{width:"100%",justifyContent:"center"}},(0,s.__)("Upgrade to Pro","wholesalex"))))};var b=(0,m.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(p.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})});function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}const R=e=>{var t,n;let{fieldData:a,tierName:l,lockStatus:r,initialTier:o,tier:i,setTier:s,setPopUpStatus:d,onAddTier:p}=e;const m=r&&"button"===(null==a||null===(t=a._tiers)||void 0===t||null===(t=t.upgrade_pro)||void 0===t?void 0:t.type),_=!r&&"button"===(null==a||null===(n=a._tiers)||void 0===n||null===(n=n.add)||void 0===n?void 0:n.type);if(!m&&!_)return null;const f=m?a._tiers.upgrade_pro:a._tiers.add;return React.createElement(u.Flex,{justify:"start",style:{marginTop:"12px"}},React.createElement(u.Button,{variant:"secondary",icon:m?b:v,iconPosition:m?"right":"left",onClick:e=>{if(e.preventDefault(),m)null==d||d(!0);else if("function"!=typeof p){if(i&&s){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i);e[l]||(e[l]={tiers:[]}),e[l].tiers=[...e[l].tiers||[],o||{_id:Date.now().toString()}],s(e)}}else p(l)}},null==f?void 0:f.label))};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const j=function(){const[e,t]=(0,a.useState)({}),[n,l]=(0,a.useState)({loading:!0,currentWindow:"new",index:-1,loadingOnSave:!1}),[r,i]=(0,a.useState)({}),[c,p]=(0,a.useState)({}),m={_id:Date.now().toString(),_discount_type:"",_discount_amount:"",_min_quantity:"",_product_filter:"",src:"profile"},v=wholesalex.is_pro_activated,[f,y]=(0,a.useState)(!1),x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const o={type:e,action:"profile_action",nonce:wholesalex.nonce,user_id:document.getElementById("user_id").value};"post"===e&&(o.user_action=a,o.user_role=r._wholesalex_role),wp.apiFetch({path:"/wholesalex/v1/profile_action",method:"POST",data:o}).then(o=>{o.success&&("get"===e?(t(o.data.default),l(S(S({},n),{},{loading:!1})),o.data.tiers&&p(o.data.tiers),o.data.settings&&i(o.data.settings)):("delete_user"===a&&(window.location=o.data.redirect),o.data.settings&&i(S(S({},r),o.data.settings))))})};(0,a.useEffect)(()=>{x()},[]);const g=e=>{let t=!0;return e.forEach(e=>{r[e.key]!==e.value&&(t=!1)}),t},b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Object.keys(null!=e?e:{}),l={},r={},o={};return Object.entries(n).forEach(t=>{let[n,i]=t;l[n]=a.filter(t=>{var n;return"yes"===(null==e||null===(n=e[t])||void 0===n?void 0:n[i])}),r[n]=new Set(l[n]),o[n]=!1}),{fieldKeys:a,groupSets:r,renderGroup:(e,n)=>{if(o[e])return null;o[e]=!0;const a=l[e].map(e=>t(e)||null).filter(Boolean);return 0===a.length?null:React.createElement(u.Flex,{gap:6,align:"stretch",direction:["column","row"],key:"".concat(n,"_").concat(e,"_group")},a)}}},E=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const l=r[t]?r[t]:e.default,c=!e.depends_on||g(e.depends_on),s={key:t,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:a,id:t,name:t,value:l||"",disabled:e.is_disable,onChange:e=>{i(S(S({},r),{},{[t]:e}))}},d="number"===e.type?u.__experimentalNumberControl:u.TextControl,p=null==e||null===(n=e.label)||void 0===n?void 0:n.toLowerCase().includes("quantity");return c&&React.createElement(u.FlexItem,{isBlock:!0,key:t},React.createElement(d,o({},s,!e.is_disable&&"number"===e.type&&{spinControls:"custom",step:p?"1":"any"})))},O=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=r[t]?r[t]:e.default;return(!e.depends_on||g(e.depends_on))&&React.createElement(u.FlexItem,{isBlock:!0,key:t},React.createElement(u.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:n,id:t,value:a||"default",options:(l=e.options,Object.keys(l).map(e=>({value:""===e?"default":e,label:l[e]}))),onChange:e=>{i(S(S({},r),{},{[t]:e}))}}));var l},j=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=r[t]?r[t]:e.default||[],l=!e.depends_on||g(e.depends_on),o=!!e.options_dependent_on&&e.options_dependent_on,c=e.options||[];let p=!0,m="";o&&(r[o]?m=r[o]:p=!1),""!==m&&(p=!0);const _=Boolean((null==e?void 0:e.is_ajax)&&(null==e?void 0:e.ajax_action))?c:(v=c,(Array.isArray(v)?v:[]).map(e=>{if(e&&"object"==typeof e){var t,n,a;let l="";return void 0!==e.value?l=e.value:void 0!==e.id?l=e.id:void 0!==e.key&&(l=e.key),{name:e.name||e.label||String(null!==(t=null!==(n=null!==(a=e.value)&&void 0!==a?a:e.id)&&void 0!==n?n:e.key)&&void 0!==t?t:""),value:l}}return{name:String(e),value:e}}).filter(e=>""!==e.name));var v,f;return l&&p&&React.createElement(u.FlexItem,{isBlock:!0,key:t},React.createElement(d,{name:t,label:n,value:(f=a,(Array.isArray(f)?f:[]).map(e=>{if(e&&"object"==typeof e){var t,n,a;let l="";return void 0!==e.value?l=e.value:void 0!==e.id?l=e.id:void 0!==e.key&&(l=e.key),{name:e.name||e.label||String(null!==(t=null!==(n=null!==(a=e.value)&&void 0!==a?a:e.id)&&void 0!==n?n:e.key)&&void 0!==t?t:""),value:l}}return{name:String(e),value:e}})),options:_,placeholder:e.placeholder||(0,s.__)("Type to searchâ€¦","wholesalex"),isDisable:Boolean(null==e?void 0:e.is_disable),isAjax:Boolean(null==e?void 0:e.is_ajax),ajaxAction:null==e?void 0:e.ajax_action,ajaxSearch:Boolean(null==e?void 0:e.ajax_search),dependsValue:!!o&&m,onMultiSelectChangeHandler:(e,t)=>{const n=(Array.isArray(t)?t:[]).map(e=>{var t,n,a;return{value:null==e?void 0:e.value,label:null!==(t=null!==(n=null==e?void 0:e.name)&&void 0!==n?n:null==e?void 0:e.label)&&void 0!==t?t:String(null!==(a=null==e?void 0:e.value)&&void 0!==a?a:"")}});i(S(S({},r),{},{[e]:n}))}}))},[k,C]=(0,a.useState)(!1),B=()=>{x("post","delete_user"),C(!1)};return React.createElement(React.Fragment,null,React.createElement(u.Card,null,n.loading?React.createElement(u.CardBody,null,React.createElement(u.__experimentalHStack,{justify:"center"},React.createElement(u.Spinner,null))):Object.keys(e).map(t=>React.createElement(a.Fragment,{key:t},React.createElement(u.CardHeader,null,React.createElement(u.__experimentalHeading,{level:3},e[t].label)),React.createElement(u.CardBody,null,React.createElement(u.__experimentalVStack,{spacing:10},Object.keys(e[t].attr).map(n=>{switch(n){case"_profile_user_settings_section":return(e=>{var t;const n=e=>{switch(e){case"approve_user":case"active_user":x("post","approve_user");break;case"reject_user":x("post","reject_user");break;case"delete_user":C(!0);break;case"deactive_user":x("post","deactive_user")}},l=t=>{const a=e.attr[t];switch(a.type){case"select":return O(a,t,e.attr[t].label);case"text":return a.value?E(a,t,e.attr[t].label):null;case"buttons":return React.createElement(u.__experimentalHStack,{wrap:!0,justify:"start",key:"profile_settings_buttons"},("pending"===r.__wholesalex_status||""===r.__wholesalex_status)&&React.createElement(React.Fragment,null,React.createElement(u.Button,{variant:"primary",onClick:()=>n("approve_user")},a.btn_approve),React.createElement(u.Button,{variant:"primary",isDestructive:!0,onClick:()=>n("reject_user")},a.btn_reject),React.createElement(u.Button,{variant:"secondary",isDestructive:!0,icon:_,onClick:()=>n("delete_user")},a.btn_delete)),"reject"===r.__wholesalex_status&&React.createElement(React.Fragment,null,React.createElement(u.Button,{variant:"primary",onClick:()=>n("approve_user")},a.btn_approve),React.createElement(u.Button,{variant:"secondary",isDestructive:!0,icon:_,onClick:()=>n("delete_user")},a.btn_delete)),"inactive"===r.__wholesalex_status&&React.createElement(React.Fragment,null,React.createElement(u.Button,{variant:"primary",onClick:()=>n("active_user")},a.btn_active),React.createElement(u.Button,{variant:"secondary",isDestructive:!0,icon:_,onClick:()=>n("delete_user")},a.btn_delete)),"active"===r.__wholesalex_status&&React.createElement(React.Fragment,null,React.createElement(u.Button,{variant:"secondary",isDestructive:!0,icon:_,onClick:()=>n("delete_user")},a.btn_delete),React.createElement(u.Button,{variant:"secondary",onClick:()=>n("deactive_user")},a.btn_deactive)));default:return null}},{fieldKeys:o,groupSets:i,renderGroup:c}=b(e.attr,l,{flexOne:"isFlexOne"});return React.createElement(React.Fragment,null,React.createElement(u.Card,{key:"profile_settings",size:"small",isRounded:!1},React.createElement(u.CardHeader,null,React.createElement(u.__experimentalHeading,{level:4},e.label)),React.createElement(u.CardBody,null,React.createElement(u.__experimentalVStack,{spacing:4},o.map(e=>{var t;if(null!==(t=i.flexOne)&&void 0!==t&&t.has(e))return c("flexOne","wsx_profile_settings");const n=l(e);return n?React.createElement(a.Fragment,{key:"wsx_profile_settings_".concat(e)},n):null}).filter(Boolean)))),k&&React.createElement(u.Modal,{title:(0,s.__)("Confirm Delete","wholesalex"),onRequestClose:()=>C(!1)},React.createElement(u.__experimentalVStack,{spacing:4},React.createElement(u.__experimentalText,null,"".concat((0,s.__)("Do You Want to delete","wholesalex")," ").concat((null===(t=wholesalex_profile)||void 0===t||null===(t=t.i18n)||void 0===t?void 0:t.this_user)||"","? ").concat((0,s.__)("Be careful, this procedure is irreversible. Do you want to proceed?","wholesalex"))),React.createElement(u.__experimentalHStack,{justify:"end"},React.createElement(u.Button,{variant:"secondary",onClick:()=>C(!1)},(0,s.__)("Cancel","wholesalex")),React.createElement(u.Button,{variant:"primary",isDestructive:!0,onClick:B},(0,s.__)("Delete","wholesalex"))))))})(e[t].attr[n]);case"_credit_section":{var l,o;const r=null!==(l=null==e||null===(o=e[t])||void 0===o||null===(o=o.attr)||void 0===o||null===(o=o[n])||void 0===o?void 0:o.attr)&&void 0!==l?l:{},i=e=>{const t=null==r?void 0:r[e],n=null==t?void 0:t.label;switch(null==t?void 0:t.type){case"text":case"number":return E(t,e,n);default:return null}},{fieldKeys:c,groupSets:s,renderGroup:d}=b(r,i,{flexOne:"isFlexOne"});return React.createElement(u.Card,{key:n,variant:"secondary",isRounded:!1},React.createElement(u.CardBody,null,React.createElement(u.__experimentalVStack,{spacing:4,key:n},c.map(e=>{var t;if(null!==(t=s.flexOne)&&void 0!==t&&t.has(e))return d("flexOne","wsx_credit_section");const n=i(e);return n?React.createElement(a.Fragment,{key:"wsx_credit_".concat(e)},n):null}).filter(Boolean))))}case"_payment_gateway_section":{var i,d;const l=null!==(i=null==e||null===(d=e[t])||void 0===d||null===(d=d.attr)||void 0===d||null===(d=d[n])||void 0===d?void 0:d.attr)&&void 0!==i?i:{};return React.createElement(u.Card,{key:n,variant:"secondary",isRounded:!1},React.createElement(u.CardBody,null,((e,t)=>{const n=e=>{const n=null==t?void 0:t[e],a=null==n?void 0:n.label;switch(null==n?void 0:n.type){case"select":return O(n,e,a);case"multiselect":return j(n,e,a);default:return null}},{fieldKeys:l,groupSets:r,renderGroup:o}=b(t,n,{flexOne:"isFlexOne",flexTwo:"isFlexTwo"});return React.createElement(u.__experimentalVStack,{spacing:4},l.map(t=>{var l,i;if(null!==(l=r.flexOne)&&void 0!==l&&l.has(t))return o("flexOne","wsx_profile_".concat(e));if(null!==(i=r.flexTwo)&&void 0!==i&&i.has(t))return o("flexTwo","wsx_profile_".concat(e));const c=n(t);return c?React.createElement(a.Fragment,{key:"wsx_profile_".concat(e,"_").concat(t)},c):null}).filter(Boolean))})(n,l)))}case"_shipping_section":{var f,g;const l=null!==(f=null==e||null===(g=e[t])||void 0===g||null===(g=g.attr)||void 0===g||null===(g=g[n])||void 0===g?void 0:g.attr)&&void 0!==f?f:{};return React.createElement(u.Card,{key:n,variant:"secondary",isRounded:!1},React.createElement(u.CardBody,null,(e=>{const t=Object.keys(null!=e?e:{});let n=null,l=null;t.forEach(t=>{var a;const r=null==e?void 0:e[t],o=(null==r||null===(a=r.label)||void 0===a?void 0:a.toLowerCase())||"";"select"!==(null==r?void 0:r.type)||!o.includes("shipping zone")&&!o.includes("zone")||o.includes("method")||(n=t),"multiselect"===(null==r?void 0:r.type)&&(o.includes("method")||o.includes("shipping zone method"))&&(l=t)});const o=r[n]||"",i=o&&""!==o&&"default"!==o&&"choose_shipping_zone"!==o,c=t=>{const n=null==e?void 0:e[t],a=null==n?void 0:n.label;if(t===l&&!i)return null;switch(null==n?void 0:n.type){case"select":return O(n,t,a);case"multiselect":return j(n,t,a);default:return null}},{fieldKeys:s,groupSets:d,renderGroup:p}=b(e,c,{flexOne:"isFlexOne",flexTwo:"isFlexTwo"});return React.createElement(u.__experimentalVStack,{spacing:4},s.map(e=>{var t,n;if(null!==(t=d.flexOne)&&void 0!==t&&t.has(e))return p("flexOne","wsx_profile_shipping");if(null!==(n=d.flexTwo)&&void 0!==n&&n.has(e))return p("flexTwo","wsx_profile_shipping");const l=c(e);return l?React.createElement(a.Fragment,{key:"wsx_profile_shipping_".concat(e)},l):null}).filter(Boolean))})(l)))}default:return React.createElement(a.Fragment,{key:n},Object.keys(e[t].attr[n].attr).map(a=>{const l=e[t].attr[n].attr[a],r=l.label;switch(l.type){case"select":return O(l,a,r);case"tiers":return function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const l=S({},c),r=l[t]?l[t]:{};r.tiers||(r.tiers=[],r.tiers.push(S({},m)),l[t]=r,p(l));let o=99999999999;var i;e.is_pro&&(o=null===(i=e.pro_data)||void 0===i?void 0:i.value),o||(o=99999999999);const s=(null==c||null===(n=c[t])||void 0===n?void 0:n.tiers.length)>=o&&!v;return React.createElement(u.Card,{variant:"secondary",isRounded:!1,isBorderless:!0,borderLeft:!0,borderRight:!0,key:"wsx_".concat(t)},React.createElement(u.PanelBody,{title:a,initialOpen:!1},e.attr&&Object.keys(e.attr).map(n=>"tier"===e.attr[n].type?((e,t,n)=>{const a=e._tiers.data;return React.createElement(u.__experimentalVStack,{spacing:4,key:t},c&&c[t]&&c[t].tiers.map((e,n)=>React.createElement(h,{key:"wholesalex_".concat(t,"_tier_").concat(n),fields:a,tier:c,setTier:p,index:n,tierName:t,isProfile:!0})),React.createElement(R,{fieldData:e,tierName:t,lockStatus:n,initialTier:m,tier:c,setTier:p,setPopUpStatus:y}))})(e.attr[n],t,s):[])))}(l,a,r);default:return[]}}))}}))))),React.createElement("input",{type:"hidden",value:JSON.stringify(c),name:"wholesalex_profile_tiers"}),React.createElement("input",{type:"hidden",value:JSON.stringify(r),name:"wholesalex_profile_settings"})),f&&React.createElement(w,{title:(0,s.__)("Unlock all of these Features with","wholesalex"),onClose:()=>y(!1)}))};document.addEventListener("DOMContentLoaded",function(){document.body.contains(document.getElementById("_wholesalex_edit_profile"))&&(0,r.createRoot)(document.getElementById("_wholesalex_edit_profile")).render(l().createElement(l().StrictMode,null,l().createElement(j,null)))})})();
//# sourceMappingURL=whx_profile.js.map